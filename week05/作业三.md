### 在你目前的工作场景中，哪个业务适合使用 rabbitmq？ 引入 rabbitmq 主要解决什么问题?（非相关工作可以以设计淘宝购物和结账功能为例来描述）
目前的工作场景中，最有可能用到rabbitmp的业务应该是IoT相关的应用信息系统。
引入rabbitmq主要是解决IoT信息报告的高并发的情况。现在的消息处理服务器前面程序直接和IoT设备通过Socket通信，后端连接着数据库。如果未来，并发很高，那么就要权衡是去升级消息处理服务器程序还是在前面加个rabbitmq来做缓冲。


### 如何避免消息重复投递或重复消费？
因为消息队列一般不保证消息的不重复，所以避免消息重复的逻辑一般在业务端实现。
通用的解决方法是通过消费端的业务处理逻辑保证幂等性来应对。



### 交换机 fanout、direct、topic 有什么区别？
它们的区别主要是在对routing key的处理上。
1. direct - 客户端采用的routing key必须和交换机上设置的完全相同才能转发消息。
2. topic - 客户端采用的routing key只需要和交换机上的设置，模式匹配上就可以转发。
3. fanout - 忽略routing key。采用广播的方式，转发消息。


### 架构中引入消息队列是否利大于弊？你认为消息队列有哪些缺点？
在做架构设计时，我们既要保持架构尽可能地简单，又要保持架构有一定的扩展性。所以架构中是否引入消息队列，主要取决于业务需求以及业务的实际情况。
但总的来说，如果我们是要开发和维护的系统未来会遇到高并发的情况，那么引入消息队列肯定是有利的。

消息队列的缺点有
* 或多或少地引入了复杂性，复杂意味着系统可维护性降低，需要更多的设置和管理
* 消息的异步处理，也为debug带来了困难